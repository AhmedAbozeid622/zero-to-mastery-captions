WEBVTT

00:01.490 --> 00:02.290
Dar una buena acogida.

00:02.290 --> 00:07.840
Es hora de crear un formulario de 'inicio de sesión'. Tal vez incluso un formulario de 'Registro' porque para los

00:07.850 --> 00:09.020
nuevos usuarios, desea registrarlos.

00:10.850 --> 00:11.870
Así que trabajemos en eso.

00:14.010 --> 00:21.550
Primero, queremos crear un componente de 'inicio de sesión' y 'registro'. Entonces hagamos eso.

00:21.570 --> 00:32.120
Voy a crear una nueva carpeta, llámela 'Iniciar sesión' y esta carpeta tendrá un nuevo archivo llamado 'signIn'

00:32.390 --> 00:33.780
dot 'js'.

00:37.270 --> 00:45.900
Y nuevamente usando nuestro mejor amigo, copiar y pegar, podemos usar eso y llamar a esto 'Iniciar sesión'.

00:46.210 --> 00:52.390
Y no tenemos ningún CSS para ello. Y todavía no hay accesorios. Aquí definitivamente

00:52.390 --> 01:02.050
queremos tener un formulario de 'Inicio de sesión'. Y afortunadamente para nosotros porque estamos usando 'taquiones',

01:02.830 --> 01:14.370
bueno, si buscamos la forma de 'taquiones', deberían tener, ¡oh! parece que tienen un formulario de inicio de sesión solo para nosotros para que podamos usarlo.

01:14.430 --> 01:15.370
Muy bien, esto se ve increíble.

01:15.420 --> 01:19.400
Simplemente podemos copiar y pegar este código,

01:19.740 --> 01:24.650
y nuevamente porque tenemos 'taquiones', las clases se aplicarán automáticamente.

01:24.700 --> 01:27.460
Entonces hagamos eso. Arregla un poco la sangría.

01:32.290 --> 01:36.230
Vamos a salvar Y ves aquí que la sintaxis está mal.

01:36.640 --> 01:41.780
Bueno, eso es porque con JSX, podríamos haber escapado, cuando me permitimos hacer

01:41.780 --> 01:45.090
esto más pequeño. En html, no

01:45.260 --> 01:52.580
necesariamente teníamos que cerrar los cuadros de entrada. Pero aquí con JSX, debemos

01:52.580 --> 01:57.530
asegurarnos de que las etiquetas de entrada estén cerradas.

01:57.560 --> 02:05.030
Así que ahora nuestro caso, tenemos tres entradas, creo. Entonces podemos guardar eso y todavía hay algo fuera. A ver, qué más

02:05.030 --> 02:06.480
teníamos.

02:06.880 --> 02:08.510
Y tenemos una 'entrada' más aquí.

02:09.670 --> 02:10.210
Todo bien.

02:10.300 --> 02:12.030
Verás que el resaltado es fijo.

02:12.140 --> 02:15.440
Solo asegurémonos de que esto funcione agregando este componente de 'inicio de sesión' a nuestra

02:15.440 --> 02:16.320
aplicación dot js.

02:25.950 --> 02:32.180
Y finalmente, podemos ponerlo en la parte superior por ahora, para asegurarnos de que funcione.

02:34.930 --> 02:36.180
Veamos qué pasa.

02:36.580 --> 02:41.400
Se compiló con éxito, regresando y está bien, obtuvimos el formulario.

02:41.650 --> 02:47.170
No se ve tan mal, pero definitivamente hay algunas cosas fuera. No queremos estas cosas

02:47.170 --> 02:51.110
de fondo y necesitamos todo centrado.

02:51.140 --> 02:54.830
Bueno, una cosa, quiero, quiero que esto tenga una tarjeta debajo.

02:54.900 --> 02:59.220
Entonces, si vuelvo a 'tachyons' y hago tarjetas de 'tachyons', es

03:02.920 --> 03:05.170
como una tarjeta de producto.

03:05.170 --> 03:05.590
Todo bien.

03:05.600 --> 03:09.250
Me gusta el aspecto de esta tarjeta de producto, pero me gustan los límites.

03:09.290 --> 03:16.620
No necesito copiar los contenidos. Así que voy a copiar esta etiqueta de 'artículo' y agregarla

03:20.050 --> 03:20.780
aquí.

03:23.980 --> 03:25.540
Cierre la etiqueta 'artículo' y veamos

03:29.420 --> 03:30.600
cómo se ve eso.

03:34.410 --> 03:38.960
Muy bien, al menos tenemos el cuadro delimitador, pero todo está un poco alejado.

03:39.000 --> 03:41.760
Nuevamente, vamos a comenzar a eliminar algunas cosas que no necesitamos.

03:41.990 --> 03:44.850
No necesitamos el 'olvidé tu contraseña', no

03:45.330 --> 03:47.130
necesitamos el 'Recordarme'.

03:51.000 --> 03:53.850
Salvemos, volvamos a eso.

03:54.090 --> 04:01.560
Y nuevamente queremos asegurarnos de que esto esté centrado, y realmente queremos cambiar las clases aquí, para,

04:02.480 --> 04:05.280
nuevamente, hice el comando de

04:08.060 --> 04:14.700
control, control de comando 'g' para tener todos estos cursores múltiples y solo diré 'className'

04:14.700 --> 04:20.260
y realmente queremos eliminar este 'centro' aquí, ya lo tenemos aquí arriba.

04:20.340 --> 04:23.090
Todo bien está empezando a verse un poco mejor.

04:23.100 --> 04:30.400
Quiero hacer un poco de sombra alrededor del borde, así que nuevamente tal vez cambie

04:30.900 --> 04:41.160
el 'radio del borde' a tres y cambie algunos de estos valores, agregaré mi sombra favorita, y no creo que necesite esto.

04:41.290 --> 04:42.520
Veamos cómo se ve eso.

04:43.610 --> 04:47.610
De acuerdo, es mejor mirar ese borde que se ve muy bien

04:49.950 --> 04:56.620
Y tal vez queremos que esto sea un poco más grande y esto debería decir 'registrarse' en lugar de

04:56.640 --> 05:00.540
'registrarse' porque bueno, idealmente queremos tener otra forma para un registro.

05:00.750 --> 05:12.030
Entonces diremos 'Registrarse' aquí, y luego para 'iniciar sesión' diremos, 'f1', guárdelo, regrese.

05:12.060 --> 05:13.300
Todo bien.

05:13.410 --> 05:15.000
Eso no se ve tan mal, en realidad.

05:17.930 --> 05:21.150
Y si escribo cosas aquí, todo se ve bien.

05:23.130 --> 05:23.460
Perfecto.

05:23.460 --> 05:27.470
Entonces tenemos el formulario de 'inicio de sesión'. Este formulario de 'Iniciar

05:27.620 --> 05:32.810
sesión', bueno, no queremos que muestre esto, cuando esta aplicación esté activa.

05:32.810 --> 05:40.860
Idealmente, tenemos un formulario de 'Iniciar sesión' y una vez que un usuario inicia sesión, puede acceder a la página de inicio.

05:40.970 --> 05:42.220
Entonces hagamos eso.

05:42.230 --> 05:45.770
Parece que necesitamos un poco de estado.

05:46.020 --> 05:55.320
Si voy a la aplicación punto js, y este es un problema que es muy común en los mapas y hay bibliotecas que puedes usar, pero

05:55.320 --> 05:57.910
para nosotros, quiero construir esto desde cero.

05:57.920 --> 06:06.810
Entonces tenemos una mejor comprensión de cómo funcionan las cosas. Podemos crear un estado de ruta, y la ruta realiza un seguimiento

06:06.810 --> 06:09.410
de dónde estamos en la página.

06:09.450 --> 06:14.120
En nuestro caso, queremos que comience a 'iniciar sesión'.

06:14.130 --> 06:21.250
Entonces, cuando la aplicación se carga inicialmente y el constructor se ejecuta, 'signin' o 'route' debería ser 'signin'.

06:21.520 --> 06:24.130
Entonces, ahora que tenemos este 'inicio

06:24.130 --> 06:27.240
de sesión', bueno, parece una declaración condicional correcta.

06:27.250 --> 06:34.460
Podemos decir que si, y puedo hacer una declaración if aquí porque estamos dentro de una declaración return.

06:35.010 --> 06:41.110
Pero debido a que estos son justos, esto es solo JSX, podemos envolver las cosas entre llaves.

06:41.500 --> 06:43.570
Y ahora es una expresión de JavaScript.

06:43.780 --> 06:47.120
Entonces diremos, envolveremos esto entre llaves, y queremos que la

06:47.200 --> 06:49.640
navegación allí pase lo que pase.

06:49.720 --> 06:55.330
Si 'este' punto 'estado' punto 'ruta' es igual

07:00.630 --> 07:09.610
a 'inicio de sesión'. Si eso es cierto, entonces quiero que devuelva el componente 'inicio de sesión'. De lo contrario, puede volver, el

07:12.400 --> 07:13.940
componente 'Logo'.

07:14.150 --> 07:18.210
Cambiemos el espacio aquí, para que se vea un poco mejor. Ahorremos y veamos si

07:22.010 --> 07:23.670
eso funciona.

07:23.690 --> 07:30.440
Ahí tienes, agregó eso. Vemos eso, tenemos un error aquí que dice, bueno, los elementos json ajax

07:30.440 --> 07:34.800
deben estar envueltos en una etiqueta adjunta. Recuerde porque aquí estamos devolviendo múltiples elementos, eso

07:34.910 --> 07:35.590
no funciona.

07:35.600 --> 07:36.760
Necesitamos envolverlos.

07:37.130 --> 07:39.610
Sí, ese mensaje de error es un poco complicado.

07:42.130 --> 07:47.890
Pero, te acostumbras después de un tiempo, así que queremos envolver esto,

07:52.330 --> 07:58.360
en un 'div'. Vamos a salvar Volvamos.

07:58.380 --> 07:58.790
Todo bien.

07:58.810 --> 08:00.680
Echemos un vistazo a la consola,

08:00.820 --> 08:05.380
no hay errores, pero aún muestra 'inicio de sesión'. Así que verifiquemos para asegurarnos de que hicimos esto bien.

08:05.950 --> 08:11.140
Si 'este' punto 'estado' punto 'ruta' es igual a 'inicio de sesión'.

08:11.310 --> 08:13.580
Y como pueden ver, lo deletreé mal.

08:15.050 --> 08:16.300
Y es por eso que no estaba funcionando.

08:16.490 --> 08:18.840
Si yo guardo.

08:19.060 --> 08:19.940
Ahí tienes.

08:20.100 --> 08:21.870
Obtenemos nuestro 'Iniciar sesión'.

08:21.960 --> 08:25.140
Y si cambio esto a otra cosa,

08:25.440 --> 08:28.680
bueno, en ese caso, obtendremos nuestra pantalla de inicio.

08:28.920 --> 08:29.700
Asombroso.

08:29.880 --> 08:33.740
Solo condicionales simples en JavaScript, y tenemos nuestro auto-directo (? )

08:33.950 --> 08:37.330
Vamos a ampliar esto. Vamos a iniciar sesión.

08:37.530 --> 08:40.440
Y ahora, si el usuario inicia

08:43.350 --> 08:51.110
sesión, mientras queremos dirigirlo a la página de inicio. Así que creemos una función en 'inicio

08:51.120 --> 08:55.500
de sesión' y este accesorio tendrá, lo llamaremos 'onRouteChange'.

08:55.500 --> 09:02.390
Entonces, cuando la ruta cambie, será 'este' punto 'enRouteChange'.

09:02.400 --> 09:05.180
Y escribamos esa función.

09:05.430 --> 09:11.320
Podemos decir 'onRouteChange' usando las funciones de flecha.

09:11.460 --> 09:19.210
Pensemos en esto, por ahora solo podemos guardar 'este' punto 'setState' en 'home'. No significa mucho, pero cambia, la

09:19.390 --> 09:23.550
ruta de 'inicio de sesión' a 'inicio'.

09:25.780 --> 09:29.970
Así que hagamos que funcione. Me voy a salvar.

09:30.160 --> 09:34.310
Oh! tengo que envolver esto entre llaves porque es un objeto.

09:34.320 --> 09:34.630
Sí.

09:34.840 --> 09:44.680
Y ahora, si vamos al componente 'inicio de sesión', podemos decir que para esta 'entrada', podemos tener un controlador de eventos 'onClick'.

09:44.680 --> 09:50.640
Permítanme agregar esto en un nuevo espacio, para que puedan ver uno mejor.

09:58.060 --> 10:08.510
Haga que esto sea un poco más grande, allí va, hará un 'onClick' y 'onClick' este 'inicio de sesión' recibirá el

10:09.880 --> 10:20.320
controlador de eventos 'onRouteChange', y solo diremos 'onRouteChange', se guardará. Regresemos, haga clic en 'Iniciar sesión' y está funcionando.

10:23.180 --> 10:25.320
Muy bien, también queremos hacer clic

10:25.340 --> 10:28.420
en 'onSignOut' y debería llevarnos a la página 'Iniciar sesión'.

10:28.460 --> 10:30.190
Así que nuevamente

10:33.060 --> 10:44.020
tenemos el 'onRouteChange', pero esta vez al hacer clic en el signo que es la 'Navegación' aquí, queremos que vaya a la ruta.

10:44.030 --> 10:45.240
Entonces, ¿cómo podemos hacer eso?

10:45.330 --> 10:53.520
Vamos al componente 'Navegación' y queremos decir en la etiqueta 'p' que habrá un evento

10:54.720 --> 11:02.610
'onClick' y 'onclick', que aún no hemos escrito, pero sí tenemos el 'onRouteChange'.

11:02.660 --> 11:11.290
Entonces, en base a eso, puedo pasar eso como un accesorio

11:11.340 --> 11:21.910
y volver a la aplicación dot js, podemos pasar a 'Navigation' 'onRouteChange', 'this' dot 'onRouteChange'.

11:22.160 --> 11:33.240
Pero, hay un problema aquí, porque una vez que 'Iniciar sesión' y hago clic en 'Cerrar sesión' mientras nada sucede. Nunca cambiaremos la ruta para 'iniciar

11:33.390 --> 11:35.600
sesión'.

11:35.640 --> 11:45.750
Idealmente, cuando hacemos clic, cambiamos la ruta a 'Iniciar sesión', de modo que esta declaración aquí se evalúe como verdadera

11:45.750 --> 11:50.310
y obtengamos el formulario de inicio de sesión.

11:50.320 --> 11:57.880
Por lo tanto, parece que, en lugar de que simplemente ingresemos estáticamente a casa para 'onRouteChange', necesitamos decir dinámicamente

11:58.210 --> 11:59.800
que nuestra ruta

12:02.750 --> 12:05.320
va a estar donde la proporcionamos.

12:05.330 --> 12:07.460
Necesitamos cambiar

12:07.490 --> 12:12.130
'onRouteChange' y 'signin', y 'onRouteChange' y 'Navigation'.

12:12.340 --> 12:16.180
Así que vamos primero a 'Iniciar sesión' y digamos que 'onRouteChange' 'home'.

12:18.930 --> 12:24.240
Ahora, no queremos ejecutar esta función. La forma en que lo tenemos ahora

12:24.240 --> 12:27.850
es que, vamos a ejecutar esta función cuando se procese.

12:27.860 --> 12:33.170
Pero eso no es lo que desea, queremos que se ejecute siempre que ocurra 'onClick' y luego 'onClick'

12:33.170 --> 12:34.410
llamará a esta función.

12:34.410 --> 12:42.340
Entonces, la forma en que hacemos eso es que podemos hacer una función de flecha. Y esta función de flecha solo tendrá un 'onRoute

12:43.030 --> 12:43.980
Change' 'home'.

12:44.180 --> 12:50.870
Entonces, es solo una función que se llamará. Aquí solo estamos definiendo la función.

12:51.010 --> 12:54.020
Hagamos lo mismo en 'Navegación' también.

12:54.070 --> 13:04.400
En 'Navigation' 'onRouteChange', ahora pasará un parámetro, pero en lugar de 'home', dirá 'signin'. A ver si eso funciona.

13:05.650 --> 13:14.800
Ir a 'Iniciar sesión' y 'Cerrar sesión'. 'Iniciar sesión' y 'Cerrar sesión', increíble.

13:14.860 --> 13:18.940
No nos vamos a preocupar demasiado por obtener un error porque no hemos ingresado nada.

13:18.940 --> 13:21.200
Por ahora queremos asegurarnos de que las rutas funcionen.

13:21.480 --> 13:21.690
Todo bien.

13:21.690 --> 13:24.480
También construyamos el registro para un nuevo usuario.

13:24.480 --> 13:26.700
Queremos que tengan un registro.

13:26.710 --> 13:32.730
Tal vez también se le pide el nombre del usuario.

13:32.900 --> 13:38.650
Y para simplificar las cosas, solo agregaremos una nueva carpeta en 'componentes'.

13:38.870 --> 13:46.740
Y esto va a ser 'registrarse' y será muy similar a 'iniciar sesión'.

13:46.760 --> 13:54.680
Entonces, tendremos un poco de duplicación de código. Pero nuevamente, solo lo estamos construyendo bastante rápido, por lo que debería estar

13:54.680 --> 13:55.630
bien por ahora.

13:59.160 --> 14:04.730
Al copiar esto desde 'Iniciar sesión', podemos copiar todo desde 'Iniciar sesión' e ir a 'Registrarse'.

14:04.890 --> 14:13.790
Y ahora cambie el 'Iniciar sesión' a 'Registrarse' y el 'Registrarse' tal vez agreguemos un campo de número.

14:13.960 --> 14:29.620
Tal vez ese campo tendrá en la parte superior solo el nombre. Y diremos 'for' 'name', 'type' 'text' y 'name' serán

14:29.680 --> 14:38.050
solo 'name'. 'id' solo diremos 'nombre'. En realidad, no necesitamos estas propiedades, solo vinieron con

14:38.050 --> 14:40.570
el formulario que copié y pegué de 'tachyons'.

14:40.900 --> 14:44.280
Pero, hace el trabajo por ahora, debería ser bueno.

14:44.450 --> 14:47.510
Y no necesitamos el enlace 'Registrarse' en la parte inferior.

14:50.880 --> 14:52.020
Vamos a salvar

14:52.430 --> 14:57.810
Y si volvemos a 'Iniciar sesión', tampoco queremos que sea una etiqueta de anclaje.

14:57.860 --> 15:04.300
Queremos hacer un cambio de ruta, por lo que tal vez podamos hacer

15:08.330 --> 15:14.390
una etiqueta 'p' y esta etiqueta 'p' también tendrá el evento 'onClick'.

15:14.590 --> 15:20.280
Y al hacer clic, dirá que desde 'iniciar sesión' queremos ir a 'registrar'.

15:20.680 --> 15:21.380
Perfecto.

15:21.400 --> 15:27.550
Y finalmente, si va a la aplicación dot js, queremos importar

15:32.790 --> 15:35.710
este componente, 'Registrarse' y 'Registrarse'.

15:39.570 --> 15:46.420
Y 'Registrar' se define pero nunca se usa, porque necesitamos agregarlo a nuestro render.

15:46.430 --> 15:54.760
Ahora, esto es un poco complicado porque tenemos que hacer algunas verificaciones condicionales más. Moverá esto un poco para tener

15:54.940 --> 15:57.790
un código más limpio.

15:57.790 --> 16:08.320
Voy a decir, si 'estado' punto 'ruta' es 'inicio', en ese caso, quiero que muestres nuestra pantalla de inicio y de lo

16:12.140 --> 16:14.300
contrario, tendré otra expresión,

16:19.270 --> 16:22.780
así que la envolveré en rizado soportes.

16:23.400 --> 16:31.700
Y esta otra expresión, tendremos otro ternario, que dirá 'este' punto '' ruta 'punto'

16:33.540 --> 16:41.320
es igual a 'iniciar sesión', si está registrado, entonces devolveremos el formulario

16:44.500 --> 16:51.930
'Iniciar sesión', de lo contrario, lo haremos devuelva el formulario 'Registrarse'.

16:52.090 --> 16:53.920
Y sé que hay mejores formas de hacerlo.

16:53.920 --> 16:58.250
Podríamos haber sacado esto aquí o haberlo hecho y la declaración de devolución.

16:58.480 --> 17:02.910
Pero por ahora, queremos que esto funcione para poder probarlo.

17:02.950 --> 17:03.680
Tenemos 'Iniciar sesión'.

17:03.700 --> 17:10.490
Si hago clic en 'Registrarse', voy a registrarme, pero necesitamos cambiar el título para que podamos ver eso.

17:10.540 --> 17:11.740
Hagamos eso una vez más.

17:11.920 --> 17:20.630
Volvamos a 'Registrarse' y cambiaremos el título a 'Registrarse'.

17:20.650 --> 17:22.150
Volvamos, estamos en 'Iniciar sesión'.

17:22.150 --> 17:33.440
Si hago clic en 'Registrarse', voy a 'Registrarse' y si hago clic en 'Iniciar sesión', finalmente estoy en. Y finalmente, también cambiemos la entrada 'tipo'

17:33.440 --> 17:38.890
'enviar' o el 'valor' a 'Registrarse'.

17:39.170 --> 17:40.360
Guardemos eso de nuevo.

17:43.370 --> 17:47.030
Regrese, 'Registrarse', haga clic en 'Registrarse'.

17:47.510 --> 17:52.460
No sé si también notó que no estamos obteniendo el cursor cuando hacemos clic en 'Registrarse', así

17:52.460 --> 17:53.370
que arreglemos eso.

17:53.480 --> 17:58.830
Iremos a 'iniciar sesión' y diremos que

17:58.840 --> 18:02.270
en esta etiqueta

18:02.750 --> 18:08.710
'p', diremos que es una clase 'puntero'.

18:08.920 --> 18:09.310
Ahí tienes. Whoo! Todo bien.

18:09.370 --> 18:13.110
Entonces estamos obteniendo nuestra forma, que es buena.

18:13.130 --> 18:17.250
Lo último que quiero arreglar es el 'Cerrar sesión'.

18:17.410 --> 18:26.980
Quiero poder tener 'Cerrar sesión' solo cuando estoy en casa, y tal vez cuando estoy en 'Iniciar sesión'

18:27.100 --> 18:32.290
o 'Registrarse', tengo las dos pestañas de navegación aquí.

18:32.520 --> 18:34.010
Eso es bastante fácil de hacer.

18:34.020 --> 18:40.110
Podemos volver a 'Navegación' y en 'Navegación', podemos decir que, si 'isSignedIn',

18:45.410 --> 18:50.790
una variable, que aún no tenemos, pero podemos crear una.

18:51.020 --> 18:59.770
Solo quiero que pienses en cómo queremos diseñar esto. Entonces, si ha iniciado sesión, el usuario,

18:59.980 --> 19:01.030
en

19:03.780 --> 19:07.750
ese caso, queremos mostrar esto, ¿verdad?

19:07.880 --> 19:14.120
De lo contrario, podemos mostrar, y le estoy mostrando cómo hacerlo sin el ternario, de la manera en que lo hicimos

19:14.120 --> 19:14.940
en la aplicación

19:14.950 --> 19:15.680
dot js.

19:15.770 --> 19:17.260
Solo quiero mostrarte las dos cosas.

19:17.420 --> 19:26.330
Si el usuario no ha iniciado sesión, entonces quizás deberíamos tener dos navegaciones, una que

19:29.440 --> 19:34.940
diga 'Iniciar sesión' y otra que diga 'Registrarse'.

19:39.150 --> 19:42.630
Y por aquí, veo que estamos volviendo

19:42.660 --> 19:49.740
todo esto en lugar de lo que debería haber estado haciendo, es devolver al individuo.

19:49.750 --> 19:51.400
Entonces, aquí

19:57.180 --> 20:00.490
diré 'regresar', envuelva esto entre corchetes.

20:00.750 --> 20:12.680
Y tenemos el primer retorno y luego, si está registrado, haremos 'retorno'.

20:12.810 --> 20:16.190
¡Salvemos eso, Oop! Cometí otro error aquí.

20:16.200 --> 20:17.930
No necesitamos eso para 'navegar' las cosas.

20:18.000 --> 20:21.780
En realidad, solo queremos la etiqueta

20:24.920 --> 20:30.230
'p' del medio y aquí, solo agregue los dos enlaces.

20:30.380 --> 20:35.870
Entonces, 'Iniciar sesión' y 'Registrarse'. Entonces podemos eliminar esto, porque me estaba dando un error porque estaba devolviendo

20:35.870 --> 20:36.840
más de una cosa.

20:39.020 --> 20:39.820
Todo bien.

20:39.900 --> 20:40.690
Se ve bien.

20:40.740 --> 20:43.210
Queremos asegurarnos de que 'onRouteChange',

20:43.230 --> 20:52.570
si hacemos clic en 'Iniciar sesión', todos van a 'inicio', si hacemos clic en 'Registrarse' nuevamente, también irá a 'inicio'.

20:52.890 --> 20:57.360
Si hago clic en 'Cerrar sesión', iré a 'Iniciar sesión'.

20:57.510 --> 21:00.790
Y finalmente, 'isSignedIn' aún no

21:01.170 --> 21:12.360
existe, por lo que parece que necesitamos agregar un nuevo estado, y llamaremos a este 'isSignedIn' y, para

21:12.690 --> 21:17.390
comenzar, será falso. Y hay

21:17.400 --> 21:26.920
algo que podemos hacer fácilmente en 'onRouteChange'. 'onRouteChange' quizás podamos agregar otra instrucción if, y diremos

21:29.300 --> 21:33.450
si 'route' es igual a 'signout'.

21:33.740 --> 21:35.540
Entonces por tratar de cerrar sesión.

21:35.930 --> 21:45.540
bueno, entonces deberíamos 'setState' de 'isSignedIn' a falso porque estamos cerrando sesión.

21:45.710 --> 21:46.760
De

21:49.280 --> 22:04.680
lo contrario, si 'route' es igual a 'home', bueno, en ese caso, queremos 'setState' de 'isSignedIn' en true.

22:05.310 --> 22:11.520
Y usted podría estar pensando, ¿no queremos autenticarnos y asegurarnos de que tengan acceso

22:11.520 --> 22:15.750
para llegar a casa? y eso es algo de lo que no nos vamos a preocupar por ahora, solo queremos que funcione.

22:16.050 --> 22:21.330
Entonces, si la 'ruta' es 'cerrar sesión', entonces 'isSignedIn' será falso.

22:21.330 --> 22:23.920
Si la 'ruta' es 'hogar', entonces obviamente están firmados.

22:24.030 --> 22:25.620
Entonces será verdad.

22:25.830 --> 22:31.790
Y no importa qué, todavía queremos cambiar la "ruta". Veamos si esto realmente funciona.

22:31.950 --> 22:41.950
Regreso, hago clic en 'Registrarse', ¡vaya! Voy a 'inicio' en lugar de ir a la página 'Registrarse'.

22:41.970 --> 22:45.510
Así que cometí un error aquí, si entro en

22:45.510 --> 22:51.750
'Navegación', obviamente si hago clic en registrarse, queremos ir al 'registro' y si hago clic en

22:51.750 --> 22:58.300
'Iniciar sesión', queremos ir a 'iniciar sesión'. Llet guarda eso, intentemos eso de nuevo.

22:59.410 --> 23:01.840
'Iniciar sesión', no pasa nada porque ya estamos aquí.

23:01.930 --> 23:04.030
Firmar, 'Registrarse', agradable, 'Iniciar

23:04.040 --> 23:06.470
sesión', 'Registrarse', 'Iniciar sesión', 'Registrarse'

23:06.490 --> 23:08.900
Perfecto. Intente hacer clic

23:09.040 --> 23:19.000
en 'Registrarse' aquí, voy a 'Registrarse', si hago clic en 'Registrarse', estoy en 'casa', y ¡vaya! vemos que necesitamos este cambio a 'Cerrar sesión' y que está en la página de

23:19.000 --> 23:21.700
'inicio', para que podamos volver a la aplicación

23:21.770 --> 23:23.040
punto js. Y

23:23.080 --> 23:24.620
es una solución simple.

23:24.730 --> 23:25.930
Podemos volver aquí.

23:26.020 --> 23:34.390
Queremos pasar realmente el accesorio aquí de 'isSignedIn' para que sea 'este' punto 'estado' punto 'inicio

23:34.410 --> 23:44.760
de sesión'. Oop! eso no es todo, 'isSignedIn'. Vamos a salvar Entonces, si volvemos aquí, ¡vemos que eh! no funciona.

23:44.760 --> 23:52.970
Y eso se debe a que, nuevamente, esta es la razón por la que es tan complicado con javascript que convertí 'falso' en una cadena.

23:53.130 --> 24:03.310
Entonces, cuando marca, 'isSignedIn' aquí es falso, técnicamente es verdadero en javascript porque es una cadena, por lo que

24:03.310 --> 24:04.390
existe.

24:04.420 --> 24:08.770
Si voy a aquí, y hago 'Boolean'

24:11.350 --> 24:15.190
falso, diré que es verdad.

24:18.180 --> 24:19.580
Entonces volvamos a eso.

24:19.590 --> 24:25.740
Voy a decir, isSignedIn ', esto debería ser falso, un booleano.

24:25.740 --> 24:28.660
Así que ahora veamos si eso funciona.

24:29.400 --> 24:34.670
Se va a registrar. Si hago clic en 'Registrarse', está en casa si hago clic en 'Cerrar sesión', estoy cerrando sesión.

24:35.220 --> 24:37.530
Pero mira cómo esto no ha cambiado.

24:38.310 --> 24:42.380
Porque cometí otro error aquí.

24:42.540 --> 24:49.950
Cuando hacemos clic en 'cerrar sesión' aquí, idealmente queremos ir y decir 'cerrar

24:53.310 --> 24:54.390
sesión'

25:00.640 --> 25:04.870
y cuando cerramos sesión, cerramos la sesión correctamente.

25:04.880 --> 25:12.750
Todo bien. Tenemos una buena aplicación de trabajo.

25:12.790 --> 25:20.050
Hay algunos materiales de limpieza que podemos hacer aquí, como quitar la 'consola'.

25:20.140 --> 25:24.650
También estamos usando 'este' punto 'mucho', donde podemos usar la desestructuración.

25:24.970 --> 25:41.560
Entonces puedo tener 'isSignedIn', 'imageUrl', 'route' y 'box' desestructurados.

25:41.760 --> 25:44.140
Así que ahora puedo hacer las cosas un poco más limpias.

25:48.660 --> 25:50.570
Al eliminar 'este' punto 'estado' en todas partes,

25:58.920 --> 25:59.700
ahí lo tienes.

26:03.180 --> 26:05.520
Oh! y tengo que agregar 'const' aquí.

26:08.610 --> 26:09.330
Todo bien.

26:09.490 --> 26:12.200
Perfecto, esto se ve bastante bien.

26:14.160 --> 26:16.530
'OnButtonSubmit', 'onInputChange', todo se

26:16.570 --> 26:17.770
ve bien.

26:17.770 --> 26:20.440
Tenemos nuestro 'CalculateFaceLocation'.

26:20.500 --> 26:26.380
Obviamente, hay algunas cosas que podemos mejorar, pero por ahora tenemos una aplicación funcional que hace

26:26.440 --> 26:28.090
exactamente lo que necesitamos.

26:28.120 --> 26:31.710
Hace reconocimiento facial y funciona muy bien.

26:31.720 --> 26:37.060
También quiero ver la consola, asegúrese de que no recibamos ningún error. Y vemos que tenemos dos cosas

26:37.060 --> 26:37.640
aquí.

26:38.050 --> 26:40.140
Uno es una propiedad DOM no válida para.

26:40.180 --> 26:47.930
¿Quiso decir htmlFor? , nos da un buen error que dice Signin dot

26:47.930 --> 26:52.880
js, y eso es porque nuevamente estamos usando JSX y 'for' es una palabra javascript.

26:53.000 --> 27:01.760
Entonces, aunque en html puede usar 'for' para 'etiquetas' para adjuntarlas a la entrada, en JSX tenemos que

27:01.760 --> 27:09.630
hacer un 'htmlFor', para que podamos hacer 'htmlFor', 'htmlFor', guardar eso y nosotros ' Tendré

27:13.610 --> 27:17.410
que hacer eso y el 'Registro' también.

27:26.570 --> 27:28.080
Y eso funciona.

27:28.190 --> 27:34.250
Pero cuando hago clic en 'Iniciar sesión', recibo, el envío del formulario se canceló

27:34.250 --> 27:36.130
porque el formulario no

27:36.350 --> 27:42.650
está conectado, y eso es porque con HTML, recuerde cuando trabajamos en formularios, automáticamente si hay

27:42.740 --> 27:50.180
una entrada o un botón cuando hay un evento 'onSubmit', donde hay 'type' submit, automáticamente intentará enviar esos formularios.

27:50.180 --> 27:53.690
Si realmente cambio esto a 'div', y lo guardo, si

27:58.080 --> 28:06.030
volvemos a 'Registrar' y hago clic en 'Registrar', ya no obtengo ese error. Nuevamente, porque en futuros videos cuando creamos

28:06.060 --> 28:13.080
el backend, no necesariamente enviaremos un formulario, lo enviaremos a través de JSON,

28:13.080 --> 28:15.690
que es más dinámico.

28:15.690 --> 28:18.310
Podemos personalizar las cosas un poco mejor.

28:18.510 --> 28:25.530
Simplemente no podemos preocuparnos por los formularios html, por lo que tenemos una personalización completa con JSON. Así que podemos hacer lo mismo

28:25.530 --> 28:27.510
aquí también.

28:33.620 --> 28:36.000
Y de nuevo, firmando de nuevo, sin errores.

28:36.020 --> 28:38.090
Todo funciona según lo previsto.

28:38.090 --> 28:46.900
Si la parte del formulario era confusa, asegúrese de revisar la sección HTTP, JSON y AJAX. Como dije antes, los formularios se envían

28:46.910 --> 28:52.120
automáticamente o intentan enviarnos cosas, todavía no enviamos nada.

28:52.130 --> 28:58.310
Vamos a crear nuestro propio servidor, donde podremos iniciar sesión en nuestros propios usuarios y

28:58.430 --> 29:01.370
registrar a nuestros propios nuevos usuarios.

29:01.380 --> 29:06.330
Hay algunas cosas que podemos limpiar y no debemos preocuparnos,

29:06.520 --> 29:13.470
porque tenemos una aplicación que funciona. Y ahora quiero comenzar a sumergirme en la creación de un servidor, para

29:13.470 --> 29:18.840
que podamos iniciar sesión en las personas y cerrar sesión y tener un servidor con el que interactúe este sitio web.

29:18.940 --> 29:20.550
Nos vemos en ese por. A-Dios
