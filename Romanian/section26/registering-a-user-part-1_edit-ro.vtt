WEBVTT

00:00.520 --> 00:01.780
Bine ai revenit.

00:01.780 --> 00:08.160
Am rămas în ultimul videoclip cu acest jurnal de consolă al interogării KNEX pe care tocmai am făcut-o.

00:08.200 --> 00:16.000
Acum, aici este ceea ce face KNEX. Se construiește instrucțiunea noastră SQL pentru noi.

00:16.300 --> 00:26.230
Deci ceea ce am consola doar logat, a fost declarația de interogare postgres sau KNEX creat pentru postgres.

00:26.340 --> 00:32.100
Puteți vedea aici că constructorul este un obiect care are toate informațiile de care avem nevoie pentru a vorbi

00:32.100 --> 00:34.670
creierul inteligent și face această interogare.

00:34.770 --> 00:43.890
Dacă vreau să accesez ceva de la utilizatori, va trebui să-mi fac prietenul .then () deoarece

00:44.010 --> 00:49.170
acest lucru returneaza o promisiune si primim raspunsul nostru.

00:49.170 --> 00:55.950
În cazul nostru, vor fi date, aceste date - din nou nu trebuie să facem Json pentru că nu o trimitem prin HTTP -

00:55.950 --> 01:03.040
vom returna datele și dacă console.log doar constatăm aceste date, să vedem ce primim.

01:03.140 --> 01:09.420
Salvați și coborâți și este o matrice goală.

01:09.460 --> 01:10.510
E un semn bun.

01:10.510 --> 01:13.480
Nu avem încă utilizatori, dar primim un răspuns.

01:14.320 --> 01:15.270
Deci, să facem asta.

01:15.490 --> 01:21.960
Să creați o declarație pentru a insera utilizatorii atunci când se înregistrează.

01:22.090 --> 01:28.390
Voi schimba acest lucru în variabila DB doar ca să nu devină confuz.

01:28.630 --> 01:31.740
Și o vom păstra ca bază de date.

01:31.740 --> 01:37.710
Bine, hai să mergem la obiectivul înregistrării și o să minimalizez această bază de date pentru că mergem

01:37.710 --> 01:40.440
să îl opriți și să îl ștergeți ulterior.

01:42.680 --> 01:49.490
Și dacă mergem să ne înregistrăm, vedem că acum nu facem baza de date .users.push în variabila

01:49.730 --> 01:59.490
putem folosi doar KNEX putem elimina acest lucru și face DB punct - Ei bine, va trebui să inserați,

01:59.490 --> 01:59.920
dreapta.

02:00.120 --> 02:06.780
Să ne uităm la documentele KNEX și să vedem și vedem metode clare - inserați.

02:06.790 --> 02:08.670
Uită-te bine la această mare documentație.

02:08.670 --> 02:13.410
Putem să aflăm exact ce avem nevoie. Pentru a introduce ceva avem metoda de inserare cu

02:13.410 --> 02:17.580
datele și ce vrem sau ce vom primi.

02:17.580 --> 02:28.610
Nu putem doar să copiem și să lipim acest lucru, așa că putem doar să facem DB în utilizatorii pe care vrem să le inserăm și se citește atât de frumos.

02:28.610 --> 02:29.730
Îmi place KNEX.

02:30.030 --> 02:38.570
Vrem să inserăm un obiect și acest obiect va conține ceea ce aveam în informațiile despre utilizatori.

02:38.610 --> 02:47.400
Așadar, vrem să inserăm un e-mail, caz în care va exista un e-mail. Avem numele, care are din nou numele

02:47.430 --> 02:50.010
pe care o vedem din corp.

02:50.010 --> 02:57.600
Avem, de asemenea, parola, dar amintim în tabelul nostru că nu avem parola sub utilizatori, așa că vom

02:57.600 --> 02:58.740
lăsați-l gol.

02:58.740 --> 03:06.960
Și dacă ne întoarcem la exemplul nostru de masă aici și ne conectăm înapoi, vom vedea că ID-ul utilizatorului este automat

03:06.960 --> 03:12.710
generat numele, e-mail, intrările implicite la zero, astfel încât nu trebuie să introduceți nimic.

03:13.080 --> 03:17.780
Și sa alăturat este data la care s-au alăturat.

03:17.800 --> 03:32.320
Deci, hai să facem o nouă dată și, odată ce introducem, să facem un .then (console.log) pentru a vedea ce

03:32.320 --> 03:34.290
ne întoarcem.

03:34.330 --> 03:41.390
O să salvez. Nu avem erori care sunt bune și ne putem întoarce la aplicația noastră. De fapt, doar

03:41.390 --> 03:48.350
pentru că este mai rapid, în loc să se înregistreze aici, vom deschide poștașul și

03:48.350 --> 03:52.870
poștașul are deja toate comenzile noastre anterioare aici, pe care le iubesc.

03:52.940 --> 04:03.610
Deci, să faceți clic pe registru și să indicați cu corpul Ann Apples și să faceți clic pe trimiteți.

04:03.630 --> 04:08.790
În regulă, avem un răspuns, dar amintiți-vă că nu vom schimba niciodată un răspuns, dar dacă ne întoarcem la server

04:10.220 --> 04:12.550
primim rezultate.

04:12.650 --> 04:13.460
In regula.

04:13.460 --> 04:14.660
Se pare că a funcționat.

04:14.870 --> 04:25.260
Dacă ne întoarcem la baza de date și alegem stele de la utilizatori cât de cool este asta.

04:25.490 --> 04:34.250
Avem Ann care a fost introdus ca primul nostru utilizator, cu intrări implicite de 0. Amazing.

04:34.340 --> 04:35.980
E ca și magia.

04:35.990 --> 04:42.430
Cât de simplu a fost să folosim doar KNEX și postgres și să creăm prima noastră bază de date.

04:42.460 --> 04:43.170
In regula.

04:43.250 --> 04:47.870
În următorul videoclip vom lucra la acest răspuns.

04:47.870 --> 04:48.740
Ne vedem în acel.

04:49.270 --> 04:49.650
Buh-pa.
